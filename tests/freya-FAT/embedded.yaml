name: Embedded
priority: 100
tasks:
  - name: Test I2C # check I2C address
    device: freya-rpi
    command: i2cdetect -y 1
    expect:
      type: string
      value: [
        "21", # thrusters
        "22", # temperature
        "69", # PSM
      ]

  - name: Test BMS connection # check battery management system
    device: freya-rpi
    command: |
      cd vortex_ws
      source install/setup.bash
      ros2 launch bms bms_launch.py
    expect:
      type: string
      value: ["process started"]

  - name: Test BMS values # check for abnormal values
    device: freya-rpi
    command: |
      cd vortex_ws
      source install/setup.bash
      ros2 topic echo diagnostics 
    expect:
      type: int
      minvalue: 20 # insert desired values
      maxvalue: 100

  - name: Test thrusters # check thruster reaction to command
    device: freya-rpi
    command: # command that would activate thrusters HERE
    expect:
      type: manual
      prompt: Did the thrusters make noise?
      value: True

  - name: Test joystick
    device: freya-rpi
    expect:
      type: manual
      prompt: 
      value:

  - name: Test thrusters with joystick
    expect:
      type: manual
      prompt: Do the thrusters react to joystick movement?
      value: True